<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Visibility Test</title>
    <link rel="stylesheet" href="../src/components/header.css">
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
        }

        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid #ddd;
        }

        /* Force video to be visible for testing */
        .bb-header__video-bg {
            opacity: 1 !important;
            z-index: 1 !important;
        }

        .bb-header__logo-container {
            z-index: 10 !important;
        }

        .demo-title {
            text-align: center;
            margin-bottom: 1rem;
            font-size: 1.25rem;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="test-section">
        <h2 class="demo-title">Video Visibility Test - Video Should Always Be Visible</h2>

        <header class="bb-header" style="height: 300px;">
            <video
                class="bb-header__video-bg"
                autoplay
                muted
                loop
                playsinline
                preload="auto"
                style="opacity: 1 !important; z-index: 1 !important;"
            >
                <source src="../public/videos/clouds_halfsize.mp4" type="video/mp4">
                <source src="../public/videos/clouds.mp4" type="video/mp4">
                Video not supported
            </video>
            <div class="bb-header__logo-container" style="z-index: 10 !important;">
                <div class="bb-header__logo">
                    <img
                        src="../public/logos/horizontal.svg"
                        alt="Bendy Beth Logo"
                        class="bb-header__logo-image"
                        style="filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));"
                    >
                </div>
            </div>
        </header>
    </div>

    <div class="test-section">
        <h2 class="demo-title">Simple Video Element Test</h2>
        <video
            controls
            autoplay
            muted
            loop
            style="width: 100%; max-width: 600px; height: 300px; border: 2px solid red;"
        >
            <source src="../public/videos/clouds_halfsize.mp4" type="video/mp4">
            <source src="../public/videos/clouds.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>

    <script>
        console.log('üé¨ Video Visibility Test Started');

        const videos = document.querySelectorAll('video');
        videos.forEach((video, index) => {
            console.log(`Video ${index + 1}:`, video);

            video.addEventListener('loadeddata', () => {
                console.log(`‚úÖ Video ${index + 1} loaded:`, {
                    width: video.videoWidth,
                    height: video.videoHeight,
                    duration: video.duration,
                    currentTime: video.currentTime,
                    paused: video.paused
                });
            });

            video.addEventListener('play', () => {
                console.log(`‚ñ∂Ô∏è Video ${index + 1} started playing`);
            });

            video.addEventListener('error', (e) => {
                console.error(`‚ùå Video ${index + 1} error:`, video.error);
            });
        });

        // Force play all videos after a short delay
        setTimeout(() => {
            videos.forEach(video => {
                video.play().then(() => {
                    console.log('‚úÖ Forced video play successful');
                }).catch(error => {
                    console.error('‚ùå Forced video play failed:', error);
                });
            });
        }, 1000);
    </script>
</body>
</html>